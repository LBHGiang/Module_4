<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="/layout/layout :: head">
</head>
<style>
    body {
        background: url("../image/bg_img.jpg") no-repeat center/cover;
        height: 100vh;
        width: 100vw;
    }
</style>
<body>
<div th:replace="/layout/layout :: header">
</div>
<div th:replace="/layout/customer_list :: navbar">
</div>

<div class="container-fluid">
    <div class="row" style="width: 100%; padding: 0; margin: 0;">
        <!--        <div id="left" class="col-2">-->
        <!--            <ul id="ul_left" style="list-style-type: none; margin-left: -25px; margin-top: 50px">-->
        <!--                <li><a href="/customers?action=create" class="btn btn-primary" role="button">Thêm mới Khách hàng</a></li>-->
        <!--                <li style="margin: 20px"><button type="button"-->
        <!--                                                 class="btn btn-primary" data-bs-toggle="modal"-->
        <!--                                                 data-bs-target="#createModal">-->
        <!--                    Thêm mới Khách hàng (modal)-->
        <!--                </button></li>-->
        <!--                <%&#45;&#45;                <li><a href="/faciliies?action=create" class="btn btn-primary" role="button">Thêm mới sản phẩm</a></li>&#45;&#45;%>-->
        <!--                <%&#45;&#45;                <li><a href="/faciliies?action=create" class="btn btn-primary" role="button">Thêm mới sản phẩm</a></li>&#45;&#45;%>-->
        <!--            </ul>-->
        <!--        </div>-->

        <div class="notify">
            <div th:if="${message}">
                <span th:text="${message}"></span>
            </div>
        </div>
        <h1 style="text-align: center; color: blue">Danh sách khách hàng</h1>


        <table id="customer_table" class="table table-striped table-bordered" style="width: 100%">
            <thead>
            <tr>
                <th>STT</th>
                <th>Tên</th>
                <th>CMND</th>
                <th>Giới tính</th>
                <th>SĐT</th>
                <th>Email</th>
                <th>Loại khách</th>
                <th>Chỉnh sửa</th>
                <th>Xóa</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="customer,status:${customers}">
                <td th:text="${customers.getSize() * customers.getNumber + status.count}"></td>
                <td><a th:href="@{/customers/{id}/view(id=${customer.id})}"
                       th:text="${customer.name}"></a></td>
                <td th:text="${customer.idCard}"></td>

                <td th:switch="${customer.gender}">
                    <span th:case="0">Nam</span>
                    <span th:case="1">Nữ</span>
                    <span th:case="2">Khác</span>
                </td>

                <td th:text="${customer.phoneNumber}"></td>
                <td th:text="${customer.email}"></td>

                <td th:text="${customer.customerType.name}"></td>

                <td><a th:href="@{/customers/{id}/edit(id=${customer.id})}" type="button" class="btn btn-warning">CHỈNH
                    SỬA</a></td>
                <td><a th:href="@{/customers/{id}/delete(id=${customer.id})}" type="button"
                       class="btn btn-danger">XOÁ</a></td>
            </tr>
            </tbody>
        </table>
        <div class="clearfix">
            <div class="pagination">
                <a th:href="@{'/customers'(page=0, searchName=${searchName}, searchEmail=${searchEmail}, searchCustomerType=${searchCustomerType})}"
                   title="first page">First</a>
                <a th:href="@{'/customers'(page=${customers.number - 1}, searchName=${searchName}, searchEmail=${searchEmail}, searchCustomerType=${searchCustomerType})}"
                   th:if="${customers.hasPrevious()}" title="previous page">Previous</a>
                <a href="#" class="page-active"><span
                        th:text="${customers.number+1}+'/'+${customers.totalPages}"></span></a>
                <a th:href="@{'/customers'(page=${customers.number + 1}, searchName=${searchName}, searchEmail=${searchEmail}, searchCustomerType=${searchCustomerType})}"
                   th:if="${customers.hasNext()}" title="next page">Next</a>
                <a th:href="@{'/customers'(page=${customers.totalPages}-1, searchName=${searchName}, searchEmail=${searchEmail}, searchCustomerType=${searchCustomerType})}"
                   title="last page">Last</a>
            </div>
        </div>
    </div>
</div>
<footer th:replace="/layout/layout :: footer"></footer>
</body>
</html>